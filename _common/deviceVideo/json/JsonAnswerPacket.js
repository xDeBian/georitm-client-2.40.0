define(["underscore","util","./JsonResult","./JsonPacket","./commands"],function(n,t,e,s,u){function o(){s.apply(this,arguments),this.results=[]}return t.extend(o,s),o.prototype.addResult=function(n){this.results.push(n)},o.fromJson=function(n){var t=new o,r=n[s.RESULTS];return r&&r.forEach(function(n){var o=n[s.SEQ_NUM],r=new e({command:s.COMMAND in n?u.findCommandById(n[s.COMMAND]):null,seqNum:o,params:s.PARAMS in n?n.params:{}});n[s.RESULT]!==e.CODE_SUCCESS&&(r.code=n[s.RESULT]),t.addResult(r)}),t},o});