define(["jquery","underscore","abstracts/update/UpdateModule"],function(t,e,n){n.prototype;var r=n.extend({constructor:function(){n.apply(this,arguments)},getDataSource:function(){return this.get("options").dataSource},destroy:function(){this.stopListening(),App.unsubscribe(this)},_update:function(){var t=this;this.getParent().getItemIdsForUpdate().done(function(e){t._requestData(e).done(function(e){t.getParent().trigger("updateitems",e),t.startUpdate()}).fail(function(){App.trigger("serverlost")})}).fail(function(){t.startUpdate()})},_requestData:function(){var e=new t.Deferred,n=this.getDataSource();return n.fetchLatest().done(function(t){e.resolve(t)}).fail(e.reject),e}});return r});