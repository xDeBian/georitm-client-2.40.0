!function(e){e.fn.multipass=function(t){var n={replacement:"â€¢",prefix:"password-",debug:!1},a=e.extend({},n,t||{});e(this).each(function(){if("selectionStart"in this){var t=e(this),n={id:"",name:"",value:"","class":"",tabindex:"",maxlength:""},i=null,l="";for(var s in n)l=t.attr(s),l&&(n[s]=l);t[0].type="hidden",i=e('<input type="text"'+(n.id?' id="'+a.prefix+n.id+'"':"")+(n.name?' name="'+a.prefix+n.name+'"':"")+(n.value?' value="'+n.value+'"':"")+(' class="'+(n["class"]?n["class"]+" ":"")+'password"')+(n.tabindex?' tabindex="'+n.tabindex+'"':"")+(n.maxlength?' maxlength="'+n.maxlength+'"':"")+' autocomplete="off" />').insertAfter(t),n.id&&e("label[for="+n.id+"]").attr("for",a.prefix+n.id);var r,f;i.on("select",function(){r=this.selectionStart,f=this.selectionEnd}),i.on("keyup",function(){var e=t.val(),n=i.val(),l=0;if(e.length!=n.length){var s=Math.max(e.length,n.length);if(e.length<n.length){l=i[0].selectionStart;for(var o=0;s>o;++o)n[o]!=a.replacement&&("undefined"==typeof e[o]?e+=n[o]:e=e.substring(0,o)+n[o]+("undefined"!=typeof e[o]?e.substring(o):""));i.val(Array(n.length+1).join(a.replacement)),i[0].setSelectionRange(l,l)}else{var d=e.length-n.length;1==d?(l=i[0].selectionStart,e=e.substring(0,l)+("undefined"!=typeof e[l+1]?e.substring(l+1):"")):e=e.substring(0,r)+("undefined"!=typeof e[f]?e.substring(f):"")}t.val(e)}})}})}}(jQuery);