!function(t,s,o){var e=function(e){var i=function(t,o){return!this instanceof i?(alert("Scroller warning: Scroller must be initialised with the 'new' keyword."),void 0):("undefined"==typeof o&&(o={}),this.s={dt:t,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null},this.s=e.extend(this.s,i.oDefaults,o),this.s.heights.row=this.s.rowHeight,this.dom={force:s.createElement("div"),scroller:null,table:null},this.s.dt.oScroller=this,this._fnConstruct(),void 0)};if(i.prototype={fnRowToPixels:function(t,s,e){var i;if(e)i=this._domain("virtualToPhysical",t*this.s.heights.row);else{var r=t-this.s.baseRowTop;i=this.s.baseScrollTop+r*this.s.heights.row}return s||s===o?parseInt(i,10):i},fnPixelsToRow:function(t,s,e){var i=t-this.s.baseScrollTop,r=e?this._domain("physicalToVirtual",t)/this.s.heights.row:i/this.s.heights.row+this.s.baseRowTop;return s||s===o?parseInt(r,10):r},fnScrollToRow:function(t,s){var o=this,i=!1,r=this.fnRowToPixels(t),l=(this.s.displayBuffer-1)/2*this.s.viewportRows,a=t-l;0>a&&(a=0),(r>this.s.redrawBottom||r<this.s.redrawTop)&&this.s.dt._iDisplayStart!==a&&(i=!0,r=this.fnRowToPixels(t,!1,!0)),"undefined"==typeof s||s?(this.s.ani=i,e(this.dom.scroller).animate({scrollTop:r},function(){setTimeout(function(){o.s.ani=!1},0)})):e(this.dom.scroller).scrollTop(r)},fnMeasure:function(t){this.s.autoHeight&&this._fnCalcRowHeight();var s=this.s.heights;s.viewport=e(this.dom.scroller).height(),this.s.viewportRows=parseInt(s.viewport/s.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer,("undefined"==typeof t||t)&&this.s.dt.oInstance.fnDraw()},_fnConstruct:function(){var s=this;if(!this.s.dt.oFeatures.bPaginate)return this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller"),void 0;this.dom.force.style.position="absolute",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=e("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=e(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",e(this.s.dt.nTableWrapper).addClass("DTS"),this.s.loadingIndicator&&e(this.dom.scroller.parentNode).css("position","relative").append('<div class="DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>"),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),e(this.dom.scroller).on("scroll.DTS",function(){s._fnScroll.call(s)}),e(this.dom.scroller).on("touchstart.DTS",function(){s._fnScroll.call(s)}),this.s.dt.aoDrawCallback.push({fn:function(){s.s.dt.bInitialised&&s._fnDrawCallback.call(s)},sName:"Scroller"}),e(t).on("resize.DTS",function(){s._fnInfo()});var o=!0;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(t,e){o&&s.s.dt.oLoadedState?(e.iScroller=s.s.dt.oLoadedState.iScroller,o=!1):e.iScroller=s.dom.scroller.scrollTop},"Scroller_State"),this.s.dt.aoDestroyCallback.push({sName:"Scroller",fn:function(){e(t).off("resize.DTS"),e(s.dom.scroller).off("touchstart.DTS scroll.DTS"),e(s.s.dt.nTableWrapper).removeClass("DTS"),e("div.DTS_Loading",s.dom.scroller.parentNode).remove(),s.dom.table.style.position="",s.dom.table.style.top="",s.dom.table.style.left=""}})},_fnScroll:function(){var t,s=this,o=this.s.heights,i=this.dom.scroller.scrollTop;if(!this.s.skip){if(this.s.dt.bFiltered||this.s.dt.bSorted)return this.s.lastScrollTop=0,void 0;if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){s.s.dt.oApi._fnSaveState(s.s.dt)},250),i<this.s.redrawTop||i>this.s.redrawBottom){var r=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);if(Math.abs(i-this.s.lastScrollTop)>o.viewport||this.s.ani?(t=parseInt(this._domain("physicalToVirtual",i)/o.row,10)-r,this.s.topRowFloat=this._domain("physicalToVirtual",i)/o.row):(t=this.fnPixelsToRow(i)-r,this.s.topRowFloat=this.fnPixelsToRow(i,!1)),0>=t?t=0:t+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(t=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength,0>t&&(t=0)):0!==t%2&&t++,t!=this.s.dt._iDisplayStart){this.s.tableTop=e(this.s.dt.nTable).offset().top,this.s.tableBottom=e(this.s.dt.nTable).height()+this.s.tableTop;var l=function(){null===s.s.scrollDrawReq&&(s.s.scrollDrawReq=i),s.s.dt._iDisplayStart=t,s.s.dt.oApi._fnCalculateEnd&&s.s.dt.oApi._fnCalculateEnd(s.s.dt),s.s.dt.oApi._fnDraw(s.s.dt)};this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(l,this.s.serverWait)):l()}}this.s.lastScrollTop=i}},_domain:function(t,s){var o,e=this.s.heights;if(e.virtual===e.scroll){if(o=(e.virtual-e.viewport)/(e.scroll-e.viewport),"virtualToPhysical"===t)return s/o;if("physicalToVirtual"===t)return s*o}var i=(e.scroll-e.viewport)/2,r=(e.virtual-e.viewport)/2;return o=r/(i*i),"virtualToPhysical"===t?r>s?Math.pow(s/o,.5):(s=2*r-s,0>s?e.scroll:2*i-Math.pow(s/o,.5)):"physicalToVirtual"===t?i>s?s*s*o:(s=2*i-s,0>s?e.virtual:2*r-s*s*o):void 0},_fnDrawCallback:function(){var t=this,s=this.s.heights,o=this.dom.scroller.scrollTop,i=(o+s.viewport,e(this.s.dt.nTable).height()),r=this.s.dt._iDisplayStart,l=this.s.dt._iDisplayLength,a=this.s.dt.fnRecordsDisplay();this.s.skip=!0,this._fnScrollForce(),o=0===r?this.s.topRowFloat*s.row:r+l>=a?s.scroll-(a-this.s.topRowFloat)*s.row:this._domain("virtualToPhysical",this.s.topRowFloat*s.row),this.dom.scroller.scrollTop=o,this.s.baseScrollTop=o,this.s.baseRowTop=this.s.topRowFloat;var n=o-(this.s.topRowFloat-r)*s.row;0===r?n=0:r+l>=a&&(n=s.scroll-i),this.dom.table.style.top=n+"px",this.s.tableTop=n,this.s.tableBottom=i+this.s.tableTop;var h=(o-this.s.tableTop)*this.s.boundaryScale;if(this.s.redrawTop=o-h,this.s.redrawBottom=o+h,this.s.skip=!1,setTimeout(function(){t._fnInfo.call(t)},0),this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.iScroller){var d=this.s.dt.sAjaxSource||t.s.dt.ajax?!0:!1;(d&&2==this.s.dt.iDraw||!d&&1==this.s.dt.iDraw)&&setTimeout(function(){e(t.dom.scroller).scrollTop(t.s.dt.oLoadedState.iScroller),t.s.redrawTop=t.s.dt.oLoadedState.iScroller-s.viewport/2},0)}},_fnScrollForce:function(){var t=this.s.heights,s=1e6;t.virtual=t.row*this.s.dt.fnRecordsDisplay(),t.scroll=t.virtual,t.scroll>s&&(t.scroll=s),this.dom.force.style.height=t.scroll+"px"},_fnCalcRowHeight:function(){var t=this.s.dt.nTable,s=t.cloneNode(!1),o=e("<tbody/>").appendTo(s),i=e('<div class="'+this.s.dt.oClasses.sWrapper+' DTS">'+'<div class="'+this.s.dt.oClasses.sScrollWrapper+'">'+'<div class="'+this.s.dt.oClasses.sScrollBody+'"></div>'+"</div>"+"</div>");for(e("tbody tr:lt(4)",t).clone().appendTo(o);e("tr",o).length<3;)o.append("<tr><td>&nbsp;</td></tr>");e("div."+this.s.dt.oClasses.sScrollBody,i).append(s),i.appendTo(this.s.dt.nHolding),this.s.heights.row=e("tr",o).eq(1).outerHeight(),i.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var t,s=this.s.dt,o=this.dom.scroller.scrollTop,i=Math.floor(this.fnPixelsToRow(o,!1,this.s.ani)+1),r=s.fnRecordsTotal(),l=s.fnRecordsDisplay(),a=Math.ceil(this.fnPixelsToRow(o+this.s.heights.viewport,!1,this.s.ani)),n=a>l?l:a,h=s.fnFormatNumber(i),d=s.fnFormatNumber(n),c=s.fnFormatNumber(r),f=s.fnFormatNumber(l);t=0===s.fnRecordsDisplay()&&s.fnRecordsDisplay()==s.fnRecordsTotal()?s.oLanguage.sInfoEmpty+s.oLanguage.sInfoPostFix:0===s.fnRecordsDisplay()?s.oLanguage.sInfoEmpty+" "+s.oLanguage.sInfoFiltered.replace("_MAX_",c)+s.oLanguage.sInfoPostFix:s.fnRecordsDisplay()==s.fnRecordsTotal()?s.oLanguage.sInfo.replace("_START_",h).replace("_END_",d).replace("_TOTAL_",f)+s.oLanguage.sInfoPostFix:s.oLanguage.sInfo.replace("_START_",h).replace("_END_",d).replace("_TOTAL_",f)+" "+s.oLanguage.sInfoFiltered.replace("_MAX_",s.fnFormatNumber(s.fnRecordsTotal()))+s.oLanguage.sInfoPostFix;var p=s.aanFeatures.i;if("undefined"!=typeof p)for(var u=0,T=p.length;T>u;u++)e(p[u]).html(t)}}},i.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},i.oDefaults=i.defaults,i.version="1.2.1","function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.9.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var s=t.oInit,o=s.scroller||s.oScroller||{},e=new i(t,o);return e.dom.wrapper},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.9.0 or greater - www.datatables.net/download"),e.fn.dataTable.Scroller=i,e.fn.DataTable.Scroller=i,e.fn.dataTable.Api){var r=e.fn.dataTable.Api;r.register("scroller().rowToPixels()",function(t,s,o){var e=this.context;return e.length&&e[0].oScroller?e[0].oScroller.fnRowToPixels(t,s,o):void 0}),r.register("scroller().pixelsToRow()",function(t,s,o){var e=this.context;return e.length&&e[0].oScroller?e[0].oScroller.fnPixelsToRow(t,s,o):void 0}),r.register("scroller().scrollToRow()",function(t,s){return this.iterator("table",function(o){o.oScroller&&o.oScroller.fnScrollToRow(t,s)}),this}),r.register("scroller().measure()",function(t){return this.iterator("table",function(s){s.oScroller&&s.oScroller.fnMeasure(t)}),this})}return i};"function"==typeof define&&define.amd?define("datatables-scroller",["jquery","datatables"],e):jQuery&&!jQuery.fn.dataTable.Scroller&&e(jQuery,jQuery.fn.dataTable)}(window,document);