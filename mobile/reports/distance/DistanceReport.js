define(["underscore","_common/reports/Report","./views/DistanceReportView"],function(t,e,a){var s=e.extend({url:App.getBaseUrl()+"reports/DISTANCETOOBJECT/",constructor:function(){e.apply(this,arguments)},defaults:t.extend({},e.prototype.defaults,{properties:["extId","name"],time:0,address:"",lat:0,lon:0,maxDistance:9999,timeRange:10}),initialize:function(){e.prototype.initialize.call(this,a),this._prepareDeviceProperties();var s=this,i=this.get("time"),r=Math.min(1440,Math.max(1,this.get("timeRange"))),n=6e4*r;this.set({timeRange:r,startTime:i-n,endTime:i+n,lat:parseFloat(this.get("lat")),lon:parseFloat(this.get("lon"))}),t.each(["maxDistance","timeRange","lat","lon","address"],function(t){s.setUserData(t,s.get(t))})},getPostParams:function(){var t=e.prototype.getPostParams.call(this);return t.properties=this.get("properties"),t.maxDistance=1e3*this.get("maxDistance"),t.lat=this.get("lat"),t.lon=this.get("lon"),t.address=this.get("address"),t}});return s});